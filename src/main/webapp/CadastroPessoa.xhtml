<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>

	<meta charset="UTF-8" />
	<title>Cadastro de Pessoas</title>

	<h:outputStylesheet library="sinerji" name="estilo.css" />

</h:head>

<h:body>
	<div id="conteudo">
		<h:form>
			<!-- Componente para os dados da pessoa -->
			<div class="form-panel">
				<h:outputLabel for="nome" value="Nome:" />
				<h:inputText id="nome" value="#{cadastroPessoasBean.pessoa.nome}" />

				<h:outputLabel for="idade" value="Idade:" />
				<h:inputText id="idade" value="#{cadastroPessoasBean.pessoa.idade}" />

				<h:outputLabel for="sexo" value="Sexo:" />
				<h:selectOneMenu id="sexo"
					value="#{cadastroPessoasBean.pessoa.sexo}">
					<f:selectItem itemLabel="Selecione.." itemValue=" "/>
					<f:selectItem itemLabel="Masculino" itemValue="M" />
					<f:selectItem itemLabel="Feminino" itemValue="F" />
				</h:selectOneMenu>
			</div>

			<!-- Componente para adicionar endereços -->
			<div class="form-panel" id="enderecoPanel">
				<h:outputText value="Estado: " />
				<h:inputText id="estado"
					value="#{cadastroPessoasBean.endereco.estado}" />
				<h:message for="estado" style="color: red" />
				
				<br />
				<h:outputText value="Cidade: " />
				<h:inputText id="cidade"
					value="#{cadastroPessoasBean.endereco.cidade}" />

				<br />
				<h:outputText value="Logradouro: " />
				<h:inputText id="logradouro"
					value="#{cadastroPessoasBean.endereco.logradouro}" />

				<br />
				<h:outputText value="Número: " />
				<h:inputText id="numero"
					value="#{cadastroPessoasBean.endereco.numero}" />

				<br />
				<h:outputText value="CEP: " />
				<h:inputText id="cep" value="#{cadastroPessoasBean.endereco.cep}" />

				<br />
				<!-- Botão de Adicionar Endereço -->
				<div class="button-panel">
					<h:commandButton value="Adicionar Endereço"
						actionListener="#{cadastroPessoasBean.adicionarEndereco}"
						styleClass="button-style" />
				</div>
			</div>

			<!-- Botão de Salvar -->
			<div class="button-panel">
				<h:commandButton value="Salvar"
					actionListener="#{cadastroPessoasBean.salvar}"
					styleClass="button-style" />
			</div>
		</h:form>
		<!-- DataTable para exibir os endereços adicionados -->
		<h2>Endereços a serem salvos</h2>
		<h:dataTable value="#{cadastroPessoasBean.enderecos}" var="endereco">
			<h:column>
				<f:facet name="header">Estado</f:facet>
        #{endereco.estado}
    </h:column>
			<h:column>
				<f:facet name="header">Cidade</f:facet>
        #{endereco.cidade}
    </h:column>
			<h:column>
				<f:facet name="header">Logradouro</f:facet>
        #{endereco.logradouro}
    </h:column>
			<h:column>
				<f:facet name="header">Número</f:facet>
        #{endereco.numero}
    </h:column>
			<h:column>
				<f:facet name="header">CEP</f:facet>
        #{endereco.cep}
    </h:column>
		</h:dataTable>
	</div>
</h:body>

</html>